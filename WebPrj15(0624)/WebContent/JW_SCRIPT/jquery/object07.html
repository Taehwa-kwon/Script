<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src = "../js/jquery-3.5.1.min.js"></script>

<script>
	var students = [
		{sid : 's001', name : '홍길동', age : 3},
		{sid : 's002', name : '홍길동1', age : 4},
		{sid : 's003', name : '홍길동2', age : 5},
		{sid : 's004', name : '홍길동3', age : 6}
	];
	
	var objStudent = {   //row하나를 학생 1명의 객체로 본다.
		sid : "",
		name : "",
		age : 0,
		
		addStudent : function(){
			var row = {sid : this.sid, name : this.name, age : this.age};
			students.push(row);
		},
			
		showStudent : function(){
			var strHTML = "";
			$.each(students,
					function(index,item){ 
					strHTML+="<div>";
					strHTML+="<input type='checkbox' value='" + item.sid + "'name='vid'/>";
					strHTML+=" 이름 :" +item.name+" - 나이 : " + item.age;
					strHTML+="</div>";
					}
					
					);
					$("#slist").html(strHTML);
		},			
		
		delStudent : function(){
/*             	var objs = $("input[name='vid']");
            	
                $(objs).each(
                        function(index, item){
                           var check = $(item).prop("checked"); // true, false
                           if(check)
                              {
                                students.splice(index,1);
                          
	                              }      
    	                    }      
                       );
	                this.showStudent(); */
	                
	                var objLists = $("input[name='vid']")
	                
	                $(objLists).each(
	                		function(index,item){
	                			if(item.checked){
	                				
	                				var checkedValue = $(item).val();
								    for (var i = 0; i < students.length; i++) {
								    	if(checkedValue ==students[i].sid){
								    		students.splice(i,1);
								    	}
										
									}            				
	                			}
	                		})
                    }
                }
	
	$(document).ready( // $(선택자).동작함수();
		function (){
			$("#btnCon").click(
				function(){
					objStudent.sid = $('#sid').val();
					objStudent.name = $('#sname').val();
					objStudent.age = $('#sage').val();
					
					objStudent.addStudent();
					
					
				}		
			); // btnCon Click
			
			$("#btnSer").click(
					function(){
					objStudent.showStudent();
					}
			)
			
			$("#btnDel").click(
					function(){
					objStudent.delStudent();
					}
			)
			
			
		}		
	)
	


</script>

</head>
<body>
	<div>
		아이디 : <input type="text" id="sid"/>
	</div>
	<div>
		이름 : <input type="text" id="sname"/>
	</div>
	<div>
		나이 : <input type="text" id="sage"/>
	</div>

	<div>
		<input type ="button" id="btnCon" value="확인"> id는 # val() , div는 html 
	</div>
	
	<div>
		<input type="button" id="btnSer" value="조회"> 
	</div>
	
	<div>
		<input type="button" id="btnDel" value="삭제"> 
	</div>
	
	<div id="slist">	</div>

</body>
</html>